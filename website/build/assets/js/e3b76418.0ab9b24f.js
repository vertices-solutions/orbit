"use strict";(self.webpackChunkorbit_docs=self.webpackChunkorbit_docs||[]).push([[875],{9940(e,t,i){i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"orbitfile","title":"Orbitfile","description":"Orbitfile is a small TOML config that defines project identity and defaults for build, submit, and retrieval.","source":"@site/versioned_docs/version-0.14.0/orbitfile.md","sourceDirName":".","slug":"/orbitfile","permalink":"/orbitfile","draft":false,"unlisted":false,"editUrl":"https://github.com/vertices-solutions/orbit/tree/main/website/versioned_docs/version-0.14.0/orbitfile.md","tags":[],"version":"0.14.0","frontMatter":{"title":"Orbitfile","description":"Orbitfile is a small TOML config that defines project identity and defaults for build, submit, and retrieval."}}');var n=i(4848),s=i(8453);const o={title:"Orbitfile",description:"Orbitfile is a small TOML config that defines project identity and defaults for build, submit, and retrieval."},l=void 0,c={},a=[{value:"What do you put in Orbitfile",id:"what-do-you-put-in-orbitfile",level:2},{value:"Minimal example",id:"minimal-example",level:2}];function d(e){const t={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"Orbitfile"})," is Orbit's project configuration file."]}),"\n",(0,n.jsx)(t.p,{children:"It is a small TOML file stored in your project root. Orbit reads it for :"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Project definition"}),": the main project features are built around using Orbitfile"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"orbit job submit"})}),": if you want to submit a job that needs some templating, or you want to permanently override some defaults, but projects don't quite fit your needs - you can just add an Orbitfile in the local directory you're planning to submit to cluster and put the templating/configuration there."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"In practice, Orbitfile helps you keep submissions reproducible by storing stable project metadata and default behavior in one place."}),"\n",(0,n.jsx)(t.h2,{id:"what-do-you-put-in-orbitfile",children:"What do you put in Orbitfile"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Project name"})," (",(0,n.jsx)(t.code,{children:"[project].name"}),", can include ASCII characters, numbers, '-' and '_' symbols): used by ",(0,n.jsx)(t.code,{children:"orbit project build"})," and ",(0,n.jsx)(t.code,{children:"orbit project submit"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Default retrieve path"})," (",(0,n.jsx)(t.code,{children:"[retrieve].default_path"}),"): if your retrieve path is predictable, you can set a default relative file/directory path to be retrieved."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Default sbatch script"})," (",(0,n.jsx)(t.code,{children:"[submit].sbatch_script"}),"): for ",(0,n.jsx)(t.code,{children:"orbit project submit"})," and  ",(0,n.jsx)(t.code,{children:"orbit job submit"}),". This might be helpful if most of time you're using a specific sbatch script and only rarely do need to override it."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Sync rules"}),": controls what is synced with include/exclude rules (",(0,n.jsx)(t.code,{children:"[sync]"}),") when Orbit prepares a submit. By default, this includes ",(0,n.jsx)(t.code,{children:".git"})," directory: you might want to also exclude some testing directory of yours. ",(0,n.jsx)(t.strong,{children:"IMPORTANT"}),": ",(0,n.jsx)(t.code,{children:"project build"})," will also respect those rules by default to save your disk space."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Templates and presets"}),": (",(0,n.jsx)(t.code,{children:"[template]"}),") section allows for parameterized submits (both for ",(0,n.jsx)(t.code,{children:"orbit project submit"})," and ",(0,n.jsx)(t.code,{children:"orbit job submit"}),"). ",(0,n.jsx)(t.code,{children:"[template.presets.<preset name>]"})," allows you to create template presets: group of values for template fields."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"minimal-example",children:"Minimal example"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-toml",children:'[project]\nname = "rna_analysis"\n\n[submit]\nsbatch_script = "submit.sbatch"\n\n[retrieve]\ndefault_path = "results"\n\n[sync]\nexclude = ["/.git/", "*.tmp"]\ninclude = ["config/*.yaml"]\n'})}),"\n",(0,n.jsx)(t.p,{children:"You can generate an Orbitfile with:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"orbit project init . --name rna_analysis\n"})}),"\n",(0,n.jsxs)(t.p,{children:["When you run ",(0,n.jsx)(t.code,{children:"orbit job submit --to <cluster> <path>"})," from this project (or a subdirectory), Orbit automatically discovers the nearest Orbitfile and applies these defaults."]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453(e,t,i){i.d(t,{R:()=>o,x:()=>l});var r=i(6540);const n={},s=r.createContext(n);function o(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);